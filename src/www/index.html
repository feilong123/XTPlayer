<!doctype html>
<html lang="en">
<head>
    <title>XTP Web</title>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <script type="text/javascript" src="index.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	
<!--     <link rel="stylesheet" type="text/css" href="https://s3.deovr.com/version/1/css/styles.css"/>
    <script src="https://s3.deovr.com/version/1/js/bundle.js" async></script> -->
</head>
<body>
<div id="bodyContainer" class="body-container">
	<div class="header">
		<div class="headerSection toolBar">
			<div class="toolBarGroup">
				<button name="deviceStatusRetryButton" class="icon-button device-status-retry-button" onclick="tcodeDeviceConnectRetry()">
					<img name="connectionStatusIconImage" class="buttonImage" src="://images/icons/reload.svg"/>
				</button>
			</div>
		</div>
		<div class="headerSection headerLogoSection">
			<img class="headerLogo" src="://images/icons/XTPWeb-logo.png"/>
		</div>
		<div class="headerSection toolBar">
			<div class="toolBarGroup toolBarGroupStart">
				<button id="settingsButton" class="icon-button" onclick="openSettings()">
					<image class="buttonImage" src="://images/icons/settings.svg"/>
				</button>
			</div>
		</div>
	</div>
	<!-- <deo-video style="display: none;" id="deoVideoPlayer" class="deoVideo">
		<source id="deoVideoSource"/>
	</deo-video> -->
	<video playsinline autoplay controls id="videoPlayer" class="video">
		<source id="videoSource"/>
		Your browser doesn't support HTML5 video tag.
	</video>
	<div class="toolBar">
		<div class="toolBarGroup">
			
		</div>
	</div>
	<div id="thumbsContainer" class="thumbs-container">
<!-- 		<button id="refreshButton" title="Refresh the media from XTP" class="refresh-media-button icon-button" onclick="getServerLibrary()">
			<img class="buttonImage" src="://images/icons/reload.svg"/>
		</button> -->
		<div id="noMedia" hidden="true" style="text-align: center;">
			No media found, it may be loading.<br>
			Please wait...<br>
			<image stye="align-self:center;margin=auto;" src="://images/Eclipse-1s-loading-200px.gif" />
		</div>
		<div id="mediaList" class="thumbs-body"></div>
	</div>
</div>

<div id="settingsModal" class="modal">
  <div class="modal-content">
	<div class="modal-header">
		<span class="modal-title">Settings</span>
		<button class="close-modal icon-button" onclick="closeSettings()">
			<image class="buttonImage" src="://images/icons/x.svg"/>
		</button>
	</div>
	<div id="modalBody" class="modal-body">
<!-- 		
				<div class="formElement">
					<label for="useDeoWebCheckbox">Use Deo Web
						<input id="useDeoWebCheckbox" type="checkbox" onclick="onClickUseDeoWebCheckbox(this)"/>
					</label>
				</div> 
			--> 
		<section id="settingsTabs" class="tab-section">
			<button id="tabLocalTab" class="tab-section-tab" onclick="tabClick(this, 0)">Local</button>
			<button id="tabConnectionsTab" class="tab-section-tab" onclick="tabClick(this, 1)">Connections</button>
			<button id="tabTCodeTab" class="tab-section-tab" onclick="tabClick(this, 2)">TCode</button>
			<button id="tabBrowserInfoTab" class="tab-section-tab" onclick="tabClick(this, 3)">Browser info</button>

			<div id="tabLocal" class="tab-content">
				<div class="formElement">
					<label title="If checked, the media items will open the media&#010;directly instead of the built in media player.&#010;This lets players like DeoVR handle the stream.." 
					for="externalStreamingCheckbox">External player
					</label>
					<input id="externalStreamingCheckbox" type="checkbox" class="styled-checkbox" onclick="onClickExternalStreamingCheckbox(this)"/>
				</div>
				<div class="formElement">
					<label for="show">
						<span class="formLabel">Show</span>
					</label>
					<select name="show" id="show" onchange="showChange(this)">
						<option value="All">All</option>
						<option value="3DOnly">3D only</option>
						<option value="2DAndAudioOnly">2D and audio only</option>
					</select>
				</div>
				<div class="formElement">
					<label for="sortBy">
						<span class="formLabel">Sort by</span>
					</label>
					<select name="sortBy" id="sortBy" onchange="sortChange(this)">
						<option value="nameAsc">Name (asc)</option>
						<option value="nameDesc">Name (desc)</option>
						<option value="dateAsc">Date (asc)</option>
						<option value="dateDesc">Date (desc)</option>
					</select>
				</div>
				<div class="formElement">
					<label for="thumbSize">
						<span class="formLabel">Thumb size</span>
					</label>
					<select name="thumbSize" id="thumbSize" onchange="thumbSizeChange(this)">
						<option value="50">50px</option>
						<option value="75">75px</option>
						<option value="100">100px</option>
						<option value="125">125px</option>
						<option value="150">150px</option>
						<option value="175">175px</option>
						<option value="200">200px</option>
						<option value="225">225px</option>
						<option value="250">250px</option>
						<option value="275">275px</option>
						<option value="300">300px</option>
						<option value="325">325px</option>
						<option value="350">350px</option>
						<option value="375">375px</option>
						<option value="400">400px</option>
						<option value="425">425px</option>
						<option value="450">450px</option>
						<option value="475">475px</option>
						<option value="500">500px</option>
					</select>
				</div>
			</div>
			<div id="tabConnections" class="tab-content">
				<div class="formElement">
					<label for="connectionNone">None</label>
					<input id="connectionNone" type="radio" name="connection" onclick="onSyncDeviceConnectionChange(this, 6)"/>
				</div>
				<div class="formElement">
					<label for="connectionDeoVR">DeoVR</label>
					<input id="connectionDeoVR" type="radio" name="connection" onclick="onSyncDeviceConnectionChange(this, 2)"/>
					<image id="deoVRStatus" class="sync-device-status icon-small"></image>
					<span class="sync-device-input-label">Address</span><input class="sync-device-address" id="deoVRAddress" onchange="onDeoVRAddressChange(this)"></input>
					<span class="sync-device-input-label">Port</span> <input class="sync-device-port" id="deoVRPort" onchange="onDeoVRPortChange(this)"></input>
				</div>
				<div class="formElement">
					<label for="connectionWhirligig">Whirligig</label>
					<input id="connectionWhirligig" type="radio" name="connection" onclick="onSyncDeviceConnectionChange(this, 3)"/>
					<image id="whirligigStatus" class="sync-device-status icon-small"></image>
				</div>
				<div class="formElement">
					<label for="connectionXTPWeb">XTP Web</label>
					<input id="connectionXTPWeb" type="radio" name="connection" onclick="onSyncDeviceConnectionChange(this, 5)"/>
					<image id="xtpWebStatus" class="sync-device-status icon-small"></image>
				</div>
				<div class="formElement">
					<label for="connectionGamepad">Gamepad</label>
					<input id="connectionGamepad" type="checkbox" class="styled-checkbox" onclick="onSyncDeviceConnectionChange(this, 4)"/>
					<image id="gamepadStatus" class="sync-device-status icon-small"></image>
				</div>
			</div>
			<div id="tabTCode" class="tab-content"></div>
			<div id="browserInfoTab" class="tab-content"></div>
		</section>
<!-- 				<div class="formElement">
					<label for="thumbSize">
						<span class="formLabel">Stroke range</span>
					</label>
					<section id="rangeSlider" class="range-slider">
						<span class="rangeValues"></span>
						<input value="0" min="0" max="9999" step="1" type="range">
						<input value="10000" min="1" max="10000" step="1" type="range">
					</section>
				</div> -->
<!-- 				<div class="formElement">
					<label title="Must use WebSocket in ESP32 firmware." 
						for="useVideoCheckbox">WebSocket ESP32 address
					</label>
					<input id="webSocketAddress" oninput="webSocketAddressChange(this)"/>
					<button id="webSocketAddressConnectButton" onclick="connectToTcodeDevice()">
						Connect
					</button>
					<label id="webSocketStatus">
						Disconnected
					</label> 
				</div> -->
	</div>
	<div class="modal-footer">
		<div class="modal-footer-content">
			<button name="deviceStatusRetryButton" class="icon-button device-status-retry-button" onclick="tcodeDeviceConnectRetry()">
				<img name="connectionStatusIconImage" class="buttonImage" src="://images/icons/reload.svg"/>
			</button>
			<a id="tcodeDeviceSettingsLink" hidden="true" target="_blank" >TCode device settings</a>
		</div>
		<div class="modal-footer-content">
			<button id="defaultSettingsButton" title="This will only reset the local browser settings to default. Your settings stored on the XTP machine will remain." onclick="defaultLocalSettings()">
				Default Local
			</button>
			<button id="saveToXTPButton" title="This will save all XTP settings to your XTP machines data storage." onclick="postServerSettings()">
				Save to XTP
			</button>
			<!-- <button id="defaultSettingsButton" onclick="deleteLocalSettings()">
				Delete All
			</button> -->
		</div>
	</div>
  </div>

</div>
</body>
</html>